# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º 1

# –ö–∞–∫ —Å–≤—è–∑–∞–Ω—ã frontend –∏ backend
'''
–°–µ–≥–æ–¥–Ω—è –º—ã –≤–ø–µ—Ä–≤—ã–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ç–æ, –∫–∞–∫ —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –≤–º–µ—Å—Ç–µ frontend- –∏ backend-—Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–î–∞–∂–µ –µ—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ backend-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π, –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å,
–∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ backend, –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. 

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:
1) –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–∞–π—Ç–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Ç–æ–≤–∞—Ä–∞ - –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—Ç–æ–∏–º–æ—Å—Ç—å, –º–æ–¥–µ–ª—å, —Ü–≤–µ—Ç –∏ —Ç.–¥.
2) –ü–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ". –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
—Å –ø–æ–º–æ—â—å—é POST-–∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ JavaScript.
3) Backend –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –ë–î –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç,
–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON {"message": "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!"}.
4) Frontend –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é,
–ª–∏–±–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

–†–ê–ó–í–ï–†–ù–£–¢–¨ –ü–û –ì–û–†–ò–ó–û–ù–¢–ê–õ–ò –ò –ü–û–ö–ê–ó–ê–¢–¨ –í –ü–†–ï–ó–ï–ù–¢–ê–¶–ò–ò
+-------------------------------------------------------------------------------------------+
:                                   –í–ï–ë-–ü–†–ò–õ–û–ñ–ï–ù–ò–ï                                          :
:                                                                                           :
:  [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ]                                                                :
:        |                                                                                  :
:        | 1) –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –º–æ–¥–µ–ª—å, —Ü–≤–µ—Ç...)                             :
:        |                                                                                  :
:        v                                                                                  :
:  [HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ + JS (Frontend)]                                                          :
:        |                                                                                  :
:        | 2) –ù–∞–∂–∞—Ç–∏–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å" ‚Üí JS —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON                            :
:        |    –∏ –¥–µ–ª–∞–µ—Ç fetch()                                                              :
:        |                                                                                  :
:        | .......... POST /api/products  (JSON body)  ..................................>  :
:        |             Headers: Content-Type: application/json                              :
:        |                                                                                  :
:        |                                                                                  :
:                                         [Backend (FastAPI)]                               :
:                                             |                                             :
:                                             | 3) –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON, –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç (Pydantic)     :
:                                             |    —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å "ProductCreate"          :
:                                             v                                             :
:                                         [–°–µ—Ä–≤–∏—Å/–õ–æ–≥–∏–∫–∞]                                   :
:                                             |                                             :
:                                             | 4) –ì–æ—Ç–æ–≤–∏—Ç –∑–∞–ø–∏—Å—å –ø—Ä–æ–¥—É–∫—Ç–∞                   :
:                                             |                                             :
:                                             v                                             :
:                                         [–•—Ä–∞–Ω–∏–ª–∏—â–µ/–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π]                           :
:                                             |                                             :
:                                             | .......... INSERT ........................>  :
:                                             |            (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î)           :
:                                             v                                             :
:                                         [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö]                                     :
:                                             |                                             :
:                                             | <......... OK / –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å (id) ......... :
:                                             v                                             :
:                                         [Backend (FastAPI)]                               :
:                                             |                                             :
:                                             | 5) –§–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç JSON                      :
:                                             |    { "message": "–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!",     :
:                                             |      "id": 123 }                             :
:                                             |                                             :
:        | <......... 201 Created  (JSON)  ................................................. :
:        |                                                                                  :
:  [HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ + JS (Frontend)]                                                          :
:        |                                                                                  :
:        | 6) JS –ø–∞—Ä—Å–∏—Ç –æ—Ç–≤–µ—Ç ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ                                      :
:        |    –∏–ª–∏ –¥–µ–ª–∞–µ—Ç redirect –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞/—Å–ø–∏—Å–∫–∞                                 :
:        v                                                                                  :
:  [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç]                                                           :
+-------------------------------------------------------------------------------------------+
'''

# ---------------------------------------------------------------------------------------------------

# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
'''
–°–µ–≥–æ–¥–Ω—è –Ω–∞—à–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ frontend-–∞ –∏ backend-–∞ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –º–∏–Ω–∏-–∫–∞—Ç–∞–ª–æ–≥–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏.
–£ –Ω–∞—Å –±—É–¥–µ—Ç –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –æ—Ç–∫—É–¥–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Å–ø–∏—Å–∫–æ–º –∏–º–µ—é—â–∏—Ö—Å—è —Ç–æ–≤–∞—Ä–æ–≤,
–∞ —Ç–∞–∫–∂–µ –Ω–∞ —Ñ–æ—Ä–º—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞. –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –∏–∑ —Å–µ–±—è HTML-—Ñ–∞–π–ª—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ 
–º—ã —Å–∫–æ—Ä–æ –≤–∑–≥–ª—è–Ω–µ–º, –∞ —Å–µ–π—á–∞—Å –æ—Ñ–æ—Ä–º–∏–º –∫–∞—Ä–∫–∞—Å –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 1 - –æ—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä–∫–∞—Å –ø—Ä–æ–µ–∫—Ç–∞

'''
–°–û–í–ï–¢ –ü–†–ï–ü–û–î–ê–í–ê–¢–ï–õ–Æ: —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Å–µ–º–µ—Å—Ç—Ä–µ –±—ã–ª –∫—É—Ä—Å –ø–æ —Ä–∞–±–æ—Ç–µ —Å HTML –∏ CSS, —Å–µ–π—á–∞—Å
—Å—Ç—É–¥–µ–Ω—Ç—ã –∏–∑—É—á–∞—é—Ç JavaScript. –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —ç—Ç–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏.

‚îú‚îÄ main.py                  # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ routers/
‚îÇ  ‚îî‚îÄ products.py           # —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îî‚îÄ static/                  # —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    ‚îú‚îÄ index.html           # –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
    ‚îú‚îÄ products.html        # —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
    ‚îú‚îÄ add_product.html     # —Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
    ‚îî‚îÄ styles.css           # CSS-—Å—Ç–∏–ª–∏

–í –ø–∞–ø–∫–µ static/ —É –Ω–∞—Å —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ "—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ" —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ—Å—Ç–æ –æ—Ç–¥–∞–µ—Ç
–∫–ª–∏–µ–Ω—Ç—É, –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ª–æ–≥–∏–∫–∏. –¢–∞–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–º –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

–ó–∞–≥–æ—Ç–æ–≤–∫–∏ —Å HTML- –∏ CSS-—Ñ–∞–π–ª–∞–º–∏ —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–π–¥–µ–º—Å—è –ø–æ –∫–∞–∂–¥–æ–º—É –∏–∑ –Ω–∏—Ö
–∏ –≤ –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö –æ–±—Å—É–¥–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 2 - —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

'''
–°–û–í–ï–¢ –ü–†–ï–ü–û–î–ê–í–ê–¢–ï–õ–Æ: –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ, –≤ —Ç–µ–æ—Ä–∏–∏ –∫ –∑–∞–Ω—è—Ç–∏—é, —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã. –ù–∞–ø–æ–º–Ω–∏—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º –ó–ê–†–ê–ù–ï–ï, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–∫–∞—á–∞–ª–∏ —ç—Ç–∏ —Ñ–∞–π–ª—ã –∫ —Å–µ–±–µ.
–ï—Å–ª–∏ —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤ –ø–æ —Å—Å—ã–ª–∫–µ –∏–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–µ - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ
—Ñ–∞–π–ª—ã –≤ —á–∞—Ç –≥—Ä—É–ø–ø—ã.
–ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –Ω–µ –Ω—É–∂–Ω–æ —Å–ª–∏—à–∫–æ–º –ø–æ–¥—Ä–æ–±–Ω–æ –æ–±—ä—è—Å–Ω—è—Ç—å –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ,
–∏–Ω–∞—á–µ –º–æ–∂–Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

index.html - —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∫—Ä–∞—Ç–∫–∏–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –ø–æ –¥–≤—É–º —Å—Å—ã–ª–∫–∞–º: ¬´–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤¬ª –∏ ¬´–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä¬ª. 

<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body class="container">
  <h1>–ö–∞—Ç–∞–ª–æ–≥</h1>
  <p><a class="button" href="/static/products.html">–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</a></p>
  <p><a class="button" href="/static/add_product.html">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a></p>
</body>
</html>

products.html - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤. 

<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body class="container">
  <header>
    <h1>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h1>
    <nav>
      <a href="/static/index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="/static/add_product.html">–î–æ–±–∞–≤–∏—Ç—å</a>
    </nav>
    <hr />
  </header>

  <table>
    <thead><tr><th>#</th><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th><th>–¶–µ–Ω–∞</th><th>–û—Å—Ç–∞—Ç–æ–∫</th></tr></thead>
    <tbody>
      <tr><td>1</td><td>–ù–æ—É—Ç–±—É–∫</td><td>79 990</td><td>5</td></tr>
      <tr><td>2</td><td>–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞</td><td>2 990</td><td>12</td></tr>
    </tbody>
  </table>
</body>
</html>

add_product.html ‚Äî —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ (–ø–æ–ª—è: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –æ—Å—Ç–∞—Ç–æ–∫). 
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body class="container">
  <header>
    <h1>–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h1>
    <nav>
      <a href="/static/index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="/static/products.html">–°–ø–∏—Å–æ–∫</a>
    </nav>
    <hr />
  </header>

  <form>
    <label>–ù–∞–∑–≤–∞–Ω–∏–µ: <input type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú—ã—à–∫–∞" /></label>
    <label>–¶–µ–Ω–∞: <input type="number" min="0" step="0.01" /></label>
    <label>–û—Å—Ç–∞—Ç–æ–∫: <input type="number" min="0" /></label>
    <button type="button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>

</body>
</html>

styles.css - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏, —Å–µ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ —Ç–∞–±–ª–∏—Ü.

:root { 
    font-family: system-ui, sans-serif; 
}

.container { 
    max-width: 900px; 
    margin: 0 auto; 
    padding: 1rem; 
}

table { 
    width: 100%; 
    border-collapse: collapse; 
    margin-top: .5rem; 
}

th, td { 
    border-bottom: 1px solid #e5e7eb; 
    padding: .5rem; 
    text-align: left; 
}

.button { 
    padding: .5rem .75rem; 
    border: 1px solid #cbd5e1; 
    border-radius: .5rem; 
    text-decoration: none; 
}

label { 
    display:block; 
    margin:.5rem 0; 
}

.hint { 
    color: #666; 
    font-size: .9rem; 
}

form {
  display: flex;
  flex-direction: column; 
  gap: .75rem;            
  align-items: flex-start;
}

–°–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥–µ–º –∫ FastAPI. 
–ù–∞—á–Ω–µ–º —Å —Ñ–∞–π–ª–∞ routers/products.py, –≥–¥–µ —Å–æ–∑–¥–∞–¥–∏–º —Ä–æ—É—Ç–µ—Ä –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç,
–∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET-–∑–∞–ø—Ä–æ—Å –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É –∫–∞—Ç–∞–ª–æ–≥—É.
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 3 - –æ—Ñ–æ—Ä–º–∏—Ç—å —Ñ–∞–π–ª routers/products.py

from fastapi import APIRouter
# RedirectResponse - –∫–ª–∞—Å—Å, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –¥—Ä—É–≥–æ–π URL
from fastapi.responses import RedirectResponse

router = APIRouter()

@router.get('/')
async def root():
    # –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É index.html
    return RedirectResponse(url='/static/index.html')

'''
–¢–µ–ø–µ—Ä—å –ø–æ–π–¥–µ–º –∫ —Ñ–∞–π–ª—É main.py, –≥–¥–µ –ø–æ–¥–∫–ª—é—á–∏–º –ø–∞–ø–∫—É —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–æ—É—Ç–µ—Ä.
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 4 - –æ—Ñ–æ—Ä–º–∏—Ç—å —Ñ–∞–π–ª main.py

from fastapi import FastAPI
# StaticFiles - –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
from fastapi.staticfiles import StaticFiles
# –ø–æ–¥–∫–ª—é—á–∞–µ–º —Ä–æ—É—Ç–µ—Ä –∏–∑ —Ñ–∞–π–ª–∞ routers/products.py
from routers.products import router

app = FastAPI()

# mount() - –º–µ—Ç–æ–¥, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π "–≤–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
# –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞–ø–∫—É —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –ø–æ–¥ –∏–º–µ–Ω–µ–º static
app.mount(
    path='/static',
    app=StaticFiles(directory='./static'),
    name='static'
)

# –ø–æ–¥–∫–ª—é—á–∞–µ–º —Ä–æ—É—Ç–µ—Ä
app.include_router(router=router)

'''
–í—Å–µ –≥–æ—Ç–æ–≤–æ! –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –ø–æ –∞–¥—Ä–µ—Å—É http://127.0.0.1,
—Ç–æ –ø–æ–ø–∞–¥–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É http://127.0.0.1:8000/static/index.html, –æ—Ç–∫—É–¥–∞ –º—ã –º–æ–∂–µ–º
–ø–æ–ø–∞—Å—Ç—å –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –°—É–ø–µ—Ä, —Ç–µ–ø–µ—Ä—å –Ω–∞—à–µ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–º–µ–µ—Ç
—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏!
'''

# ---------------------------------------------------------------------------------------------------

# –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–º Jinja2
'''
Jinja2 - —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (.html, .csv, .txt –∏ —Ç.–¥.)
–Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤. –í —à–∞–±–ª–æ–Ω–µ —É–∫–∞–∑–∞–Ω—ã –º–µ—Å—Ç–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π
—Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –ª–æ–≥–∏–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Jinja2 –≤ —Ç–æ–º, —á—Ç–æ Python –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ,
–∞ —à–∞–±–ª–æ–Ω—ã Jinja2 –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫ –æ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è. –¢–æ –µ—Å—Ç—å –º—ã —Å–º–æ–∂–µ–º –ø—Ä—è–º–æ –≤ HTML-—Ñ–∞–π–ª–µ
—É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫—É–¥–∞ –±—É–¥—É—Ç –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã Python.
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 5 - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Jinja2
'''
Jinja2 —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π, –ø–æ—ç—Ç–æ–º—É —Å–Ω–∞—á–∞–ª–∞ –µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

pip install jinja2

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Jinja2: https://jinja.palletsprojects.com/en/stable/templates/
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 6 - —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É /templates

'''
–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Jinja2 —Å–æ–∑–¥–∞–¥–∏–º –µ—â–µ –æ–¥–Ω—É –ø–∞–ø–∫—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º templates. 
–¢—É–¥–∞ –º—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –±—É–¥–µ–º –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –Ω–∞—à–∏ HTML-—Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ —à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Ö —Å –ø–æ–º–æ—â—å—é Jinja2.
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 7 - –ø–æ–¥–∫–ª—é—á–∏—Ç—å Jinja2 –≤ routers/products.py

'''
–¢–µ–ø–µ—Ä—å –ø–æ–π–¥–µ–º –≤ —Ñ–∞–π–ª routers/products.py –∏ –ø–æ–¥–∫–ª—é—á–∏–º Jinja2 –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –¥–æ–ø. –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:
'''
# –ø–æ–¥–∫–ª—é—á–∞–µ–º –∫–ª–∞—Å—Å Request –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏
from fastapi import APIRouter, Request
# HTMLResponse - –∫–ª–∞—Å—Å, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å HTML-—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
from fastapi.responses import RedirectResponse, HTMLResponse
# Jinja2Templates - –∫–ª–∞—Å—Å, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ HTML-—à–∞–±–ª–æ–Ω—ã
from fastapi.templating import Jinja2Templates

router = APIRouter()
# —Å–æ–∑–¥–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä —à–∞–±–ª–æ–Ω–æ–≤ –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Ç—å, –≥–¥–µ –ª–µ–∂–∞—Ç HTML-—à–∞–±–ª–æ–Ω—ã
templates = Jinja2Templates(directory='./templates')

# –ø—Å–µ–≤–¥–æ-–ë–î —Å –¥–∞–Ω–Ω—ã–º–∏
products_db: list[dict] = [
    {'id': 1, 'title': '–ù–æ—É—Ç–±—É–∫', 'price': 79990, 'stock': 5},
    {'id': 2, 'title': '–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞', 'price': 2990, 'stock': 12},
    {'id': 3, 'title': '–ù–∞—É—à–Ω–∏–∫–∏', 'price': 1990, 'stock': 10}
]

# —á–µ—Ä–µ–∑ response_class —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –±—É–¥–µ—Ç –≤ –≤–∏–¥–µ HTML
@router.get('/', response_class=HTMLResponse)
async def root():
    return RedirectResponse(url='/static/index.html')

# –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
@router.get('/products', response_class=HTMLResponse)
# request –Ω—É–∂–µ–Ω –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏ Jinja2
async def get_products_list(request: Request):
    # TemplateResponse - –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–∞–º–∏ Jinja2
    return templates.TemplateResponse(
        # name - –∏–º—è —Ñ–∞–π–ª–∞ –≤ –ø–∞–ø–∫–µ —Å —à–∞–±–ª–æ–Ω–∞–º–∏
        name='products.html',
        # context - —Å–ª–æ–≤–∞—Ä—å —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ HTML-—Ñ–∞–π–ª–µ
        context={'request': request, 'products': products_db}
    )

'''
–ß—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è /products:
1) FastAPI –≤—ã–∑—ã–≤–∞–µ—Ç get_products_list(), –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤–Ω—É—Ç—Ä—å request
2) –°–æ–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å {'request': request, 'products': products_db}
3) –ú–µ—Ç–æ–¥ TemplateResponse –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å–ª–æ–≤–∞—Ä—å –≤ –Ω—É–∂–Ω—ã–µ –º–µ—Å—Ç–∞ products.html
4) –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º products.html
'''

# ---------------------------------------------------------------------------------------------------

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ products.html
'''
–ò—Ç–∞–∫, –Ω–∞—á–Ω–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—à–∏—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö HTML-—Ñ–∞–π–ª–æ–≤ –≤ —à–∞–±–ª–æ–Ω—ã —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º Jinja2.
–ü–µ—Ä–≤—ã–º –Ω–∞ –æ—á–µ—Ä–µ–¥–∏ - products.html. 
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 8 - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å products.html –≤ –ø–∞–ø–∫—É /templates

'''
–ü–µ—Ä–µ–º–µ—Å—Ç–∏–º –µ–≥–æ –∏–∑ –ø–∞–ø–∫–∏ /static –≤ —Å–æ–∑–¥–∞–Ω–Ω—É—é —Ä–∞–Ω–µ–µ –ø–∞–ø–∫—É /templates.
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 9 - –≤–Ω–µ–¥—Ä–∏—Ç—å Jinja2 –≤ –∫–æ–¥ —Ñ–∞–π–ª–∞ products.html

'''
–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∏–∑ products_db –ø–æ–∫–∞ —á—Ç–æ –Ω–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –≤ products.html –∏ 
—Å–µ–π—á–∞—Å –º—ã —ç—Ç–æ –±—É–¥–µ–º –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å. –í —Ñ–∞–π–ª–µ products.html –ø–µ—Ä–µ–π–¥–µ–º –∫ –∫–æ–¥—É, –≥–¥–µ —É–∫–∞–∑–∞–Ω—ã —Ç–æ–≤–∞—Ä—ã:

    <tbody>
      <tr><td>1</td><td>–ù–æ—É—Ç–±—É–∫</td><td>79 990</td><td>5</td></tr>
      <tr><td>2</td><td>–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞</td><td>2 990</td><td>12</td></tr>
    </tbody>

–°–µ–π—á–∞—Å –º—ã –∑–∞–º–µ–Ω–∏–º —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –Ω–∞ —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ –Ω–∞—à–µ–π –ë–î
—Å —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –Ω—É–∂–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü —Ç–∞–±–ª–∏—Ü—ã. –í—ã–≥–ª—è–¥–µ—Ç—å —ç—Ç–æ –±—É–¥–µ—Ç —Ç–∞–∫:
–°–û–í–ï–¢ –ü–†–ï–ü–û–î–ê–í–ê–¢–ï–õ–Æ: –∑–¥–µ—Å—å –∏ –¥–∞–ª–µ–µ - –ø–æ–∫–∞–∑—ã–≤–∞—è –æ—á–µ—Ä–µ–¥–Ω—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é Jinja2, –æ–±—ä—è—Å–Ω—è–π—Ç–µ —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º –Ω—É–∂–Ω–æ.
–ú–æ–∂–µ—Ç–µ —Ç–∞–∫–∂–µ –ø–æ—Å—ã–ª–∏—Ç—å, —á—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Jinja2 –º–µ—Å—Ç–∞–º–∏ –æ—á–µ–Ω—å –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç Python.

    <tbody>
      {% for p in products %}
      <tr>
        <td>{{ p.id }}</td>
        <td>{{ p.title }}</td>
        <td>{{ p.price }}</td>
        <td>{{ p.stock }}</td>
      </tr>
      {% endfor %}
    </tbody>

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Jinja2:
{% for ... %}{% endfor %} - –±–ª–æ–∫ —Ü–∏–∫–ª–∞, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è HTML-—Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
{{ ... }} - —É–∫–∞–∑–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π –≤ HTML

–¢–µ–ø–µ—Ä—å —Ç–∞–±–ª–∏—Ü–∞ –±—É–¥–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –¥–∞–Ω–Ω—ã–º –∏–∑ –Ω–∞—à–µ–π –ë–î products-db. –ù–æ –ø–æ–∫–∞ —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
products.html –Ω–µ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤" –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
–°–≤—è–∑–∞–Ω–æ —ç—Ç–æ —Å —Ç–µ–º, —á—Ç–æ –º—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ products.html –≤ –ø–∞–ø–∫—É templates/, –∞ –ø—É—Ç—å –¥–æ products.html 
–≤ index.html —É–∫–∞–∑–∞–Ω —Å—Ç–∞—Ä—ã–π. –ú—ã —ç—Ç–æ –ø–æ–ø—Ä–∞–≤–∏–º –ø–æ–ø–æ–∑–∂–µ, –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π—Ç–µ. –ù–æ —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –º—ã
–Ω–µ –º–æ–∂–µ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π products.html —É–∂–µ —Å–µ–π—á–∞—Å. –ó–∞–ø—É—Å—Ç–∏–º –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–∏ –ø–µ—Ä–µ–π–¥–µ–º –ø–æ –∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/products. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ—Ç–æ–±—Ä–∞–∑—è—Ç—Å—è –Ω–∞—à–∏ —Ç–æ–≤–∞—Ä—ã –∏–∑ products_db.
–ï—Å–ª–∏ –º—ã –≤–Ω–µ—Å–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ products_db - –¥–æ–±–∞–≤–∏–º —Ç–æ–≤–∞—Ä –∏–ª–∏ —É–¥–∞–ª–∏–º - –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ,
—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥—Ç—è–Ω—É—Ç—Å—è –≤ —Ç–∞–±–ª–∏—á–∫—É!

–î–∞–≤–∞–π—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ products.html –∏ Jinja2.  –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, –µ—Å—Ç—å –ª–∏ –≤ —Å–ø–∏—Å–∫–µ —Ç–æ–≤–∞—Ä—ã. 
–ï—Å–ª–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç, —Ç–æ –±—É–¥–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–µ–∫—Å—Ç "–¢–æ–≤–∞—Ä–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç". –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

  {% if products|length == 0 %}
    <p>–¢–æ–≤–∞—Ä–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>
  {% else %}
    <table>
    ...
    </table>
  {% endif %}

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Jinja2:
{% if ... %}{% else %}{% endif %} - –±–ª–æ–∫–∏ —Å —É—Å–ª–æ–≤–∏—è–º–∏
|length - —Ñ–∏–ª—å—Ç—Ä, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–ª–∏–Ω—É —Å–ø–∏—Å–∫–∞

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –º—ã —É–¥–∞–ª–∏–º –≤ –∫–æ–¥–µ products_db —É–¥–∞–ª–∏–º –≤—Å–µ –∑–∞–ø–∏—Å–∏, –∑–∞–ø—É—Å—Ç–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–∏ –ø–µ—Ä–µ–π–¥–µ–º –ø–æ –∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/products, —Ç–æ —É–≤–∏–¥–∏–º –ø–æ–¥–ø–∏—Å—å "–¢–æ–≤–∞—Ä–æ –ø–æ–∫–∞ –Ω–µ—Ç".
–ï—Å–ª–∏ –≤ –∫–æ–¥–µ products_db –≤–µ—Ä–Ω—É—Ç—å –∑–∞–ø–∏—Å–∏ –æ–±—Ä–∞—Ç–Ω–æ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ç–æ —Ç–∞–±–ª–∏—Ü–∞
—Å —Ç–æ–≤–∞—Ä–∞–º–∏ —Å–Ω–æ–≤–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è.

–ü—Ä–æ–¥–æ–ª–∂–∞—è —Ç–µ–º—É —Ñ–∏–ª—å—Ç—Ä–æ–≤ - –º—ã –º–æ–∂–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—É —Ç–æ–≤–∞—Ä–∞ –∏ –æ—Å—Ç–∞—Ç–æ–∫ –≤ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞
–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Jinja2:

          <td>{{ p.price | int }}</td>
          <td>{{ p.stock | int }}</td>

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã Jinja2:
| int - —Ñ–∏–ª—å—Ç—Ä –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫ —Ü–µ–ª–æ–º—É —á–∏—Å–ª—É
–°—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –¥—Ä—É–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã, –æ –Ω–∏—Ö –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
'''

# ---------------------------------------------------------------------------------------------------

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ add_product.html

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 10 - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ routers/products.py
'''
–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥–µ–º –∫ —Ä–∞–±–æ—Ç–µ —Å add_product.html. –î–ª—è –Ω–∞—á–∞–ª–∞ –≤ routers/products.py –¥–æ–±–∞–≤–∏–º 2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞: 
- –æ–±—Ä–∞–±–æ—Ç–∫–∞ GET-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
- –æ–±—Ä–∞–±–æ—Ç–∫–∞ POST-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
'''
# Form - –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Ñ–æ—Ä–º—ã
from fastapi import Form
...
# –æ–±—Ä–∞–±–æ—Ç–∫–∞ GET-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
@router.get('/products/new', response_class=HTMLResponse)
async def get_new_product_form(request: Request):
    return templates.TemplateResponse(
        name='add_product.html',
        context={'request': request}
    )

# –æ–±—Ä–∞–±–æ—Ç–∫–∞ POST-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
@router.post('/products/create')
async def create_product(
    # —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–¥—É—Ç –∏–∑ —Ñ–æ—Ä–º—ã –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    title: str = Form(min_length=2),
    price: float = Form(ge=0),
    stock: int = Form(ge=0)
):
    # –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
    next_id = max((p['id'] for p in products_db), default=0) + 1
    # –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä –≤ –ø—Å–µ–≤–¥–æ-–ë–î
    products_db.append({
        'id': next_id,
        'title': title,
        'price': price,
        'stock': stock
    })
    # –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ —Å–ø–∏—Å–∫–æ–º —Ç–æ–≤–∞—Ä–æ–≤
    # –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∑—ã–≤–∞–µ–º status_code=303, —á—Ç–æ–±—ã –ø—Ä–æ–∏–∑–æ—à–µ–ª —Ä–µ–¥–∏—Ä–µ–∫—Ç,
    # –Ω–æ —Å –º–µ—Ç–æ–¥–æ–º GET –Ω–∞ –Ω–æ–≤—ã–π URL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 307, —Å –Ω–∏–º –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞)
    return RedirectResponse(url='/products', status_code=303)

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 11 - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å add_product.html –≤ –ø–∞–ø–∫—É /templates

'''
–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ–±–∞–≤–∏–ª–∏, —Ç–µ–ø–µ—Ä—å –∏–¥–µ–º –∫ HTML-—Ñ–∞–π–ª—É. –ü–µ—Ä–µ–Ω–µ—Å–µ–º add_product.html –∏–∑ –ø–∞–ø–∫–∏ /static
–≤ –ø–∞–ø–∫—É /templates, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–ª–∏ —Ä–∞–Ω–µ–µ –¥–ª—è products.html.
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 12 - –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ add_product.html

'''
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ –≤–Ω–µ—Å–µ–º –≤ —Ñ–∞–π–ª —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∫–∏:

1) –í —Å—Ç—Ä–æ–∫–µ <a href="/static/products.html">–°–ø–∏—Å–æ–∫</a> –ø–æ–º–µ–Ω—è–µ–º –ø—É—Ç—å –Ω–∞ "/products",
—á—Ç–æ–±—ã —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–ø–∏—Å–æ–∫ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ —Ä–∞–±–æ—Ç–∞–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
2) –î–ª—è –æ—Ç–∫—Ä—ã–≤–∞—é—â–µ–≥–æ —Ç–µ–≥–∞ <form> –≤–Ω—É—Ç—Ä–∏ –¥–æ–±–∞–≤–∏–º action="/products/create" –∏ method="post",
–ø–æ–ª—É—á–∏—Ç—Å—è <form action="/products/create" method="post">. –¢–µ–ø–µ—Ä—å —Ñ–æ—Ä–º–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å
–¥–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É –ø–æ –∞–¥—Ä–µ—Å—É /products/create —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ POST.
3) –î–ª—è —Ç–µ–≥–æ–≤ <input> –¥–æ–±–∞–≤–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä name, –≥–¥–µ —É–∫–∞–∂–µ–º —Ç–∞–∫–∏–µ –∂–µ –∏–º–µ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏
—Ä–∞–Ω–µ–µ –≤ Form() –≤–Ω—É—Ç—Ä–∏ create_product(). –ü–æ–ª—É—á–∏—Ç—Å—è —Ç–∞–∫:
...<input name="title" ...
...<input name="price" ...
...<input name="stock" ...
4) –î–ª—è –∫–Ω–æ–ø–∫–∏ –≤ —Ç–µ–≥–µ <button> –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ type —É–∫–∞–∂–µ–º "submit", —á—Ç–æ–±—ã –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É
–¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ü–æ–ª—É—á–∏—Ç—Å—è —Ç–∞–∫:
<button type="submit">...

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/products/new, –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
–∏ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å", —Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è –Ω–∞ http://127.0.0.1:8000/products, –≥–¥–µ
–≤ —Ç–∞–±–ª–∏—Ü–µ –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç—Ä–æ—á–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞.
'''

# ---------------------------------------------------------------------------------------------------

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ index.html

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 13 - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç root()
'''
–û—Å—Ç–∞–ª–æ—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ index.html. –î–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç root():
'''
@router.get('/', response_class=HTMLResponse)
async def root(request: Request):
    return templates.TemplateResponse(
        name='index.html',
        context={'request': request}
    )

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 14 - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å add_product.html –≤ –ø–∞–ø–∫—É /templates
'''
–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–Ω–µ—Å–µ–º index.html –∏–∑ –ø–∞–ø–∫–∏ /static –≤ –ø–∞–ø–∫—É /templates.

–ï—Å–ª–∏ –∑–∞–ø—É—Å—Ç–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–π–¥–µ–º –ø–æ –∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/, —Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è
index.html, –Ω–æ –∫–Ω–æ–ø–∫–∏ "–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤" –∏ "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä" —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥—É—Ç.
–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –∫–Ω–æ–ø–∫–∞—Ö, –∞ —Ç–æ—á–Ω–µ–µ - –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö href:
'''

# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ 15 - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –≤–æ –≤—Å–µ—Ö HTML-—Ñ–∞–π–ª–∞—Ö

'''
  <p><a class="button" href="/products">–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</a></p>
  <p><a class="button" href="/products/new">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a></p>

–ê –∑–∞–æ–¥–Ω–æ –∏ –Ω–µ –∑–∞–±—É–¥–µ–º –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –∫–Ω–æ–ø–∫–∞—Ö –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:

add_product.html:
      <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
    
products.html:
      <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="/products/new">–î–æ–±–∞–≤–∏—Ç—å</a>

–°—É–ø–µ—Ä, —Ç–µ–ø–µ—Ä—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ üòé
'''